[2026-02-05 16:20:55 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-05 16:20:55 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-05 16:20:56 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-05 16:20:56 INF] API de AuthService está ejecutándose en http://localhost:5210. Endpoint de salud: http://localhost:5210/health {"SourceContext":"Program"}
[2026-02-05 16:24:25 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ50L8TJS4G:00000001","RequestPath":"/api/v1/health","ConnectionId":"0HNJ50L8TJS4G"}
[2026-02-05 16:24:25 INF] HTTP GET /api/v1/health responded 200 in 74.5072 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ50L8TJS4G:00000001","ConnectionId":"0HNJ50L8TJS4G"}
[2026-02-05 16:30:06 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-05 16:30:10 ERR] Ocurrió un error al inicializar la base de datos {"SourceContext":"Program"}
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5436
 ---> System.Net.Sockets.SocketException (10061): No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\Users\Informatica\Documents\IN6AV_2024247\Kinal Sports\authentication-service\auth-service\src\AuthService.Api\Program.cs:line 148
[2026-02-05 16:30:33 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-05 16:30:33 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-05 16:30:33 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-05 16:30:33 INF] API de AuthService está ejecutándose en http://localhost:5210. Endpoint de salud: http://localhost:5210/health {"SourceContext":"Program"}
[2026-02-05 16:30:37 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ50ONOLFPO:00000001","RequestPath":"/api/v1/health","ConnectionId":"0HNJ50ONOLFPO"}
[2026-02-05 16:30:37 INF] HTTP GET /api/v1/health responded 200 in 45.3651 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ50ONOLFPO:00000001","ConnectionId":"0HNJ50ONOLFPO"}
[2026-02-05 16:47:18 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-05 16:47:18 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-05 16:47:18 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-05 16:47:18 INF] API de AuthService está ejecutándose en http://localhost:5210. Endpoint de salud: http://localhost:5210/health {"SourceContext":"Program"}
[2026-02-05 16:49:13 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5134E56RG:00000001","RequestPath":"/api/v1/login","ConnectionId":"0HNJ5134E56RG"}
[2026-02-05 16:49:13 INF] HTTP POST /api/v1/login responded 404 in 24.8840 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5134E56RG:00000001","ConnectionId":"0HNJ5134E56RG"}
[2026-02-05 16:54:39 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-05 16:54:39 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-05 16:54:39 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-05 16:54:39 INF] API de AuthService está ejecutándose en http://localhost:5210. Endpoint de salud: http://localhost:5210/health {"SourceContext":"Program"}
[2026-02-05 16:54:44 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5166V9AUM:00000001","RequestPath":"/api/v1/health","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 16:54:44 INF] HTTP GET /api/v1/health responded 200 in 42.6855 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5166V9AUM:00000001","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 16:54:47 INF] HTTP POST /api/v1/login responded 404 in 0.6436 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5166V9AUM:00000002","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 16:55:51 INF] HTTP POST /api/v1/auth/login responded 415 in 29.8434 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5166V9AUM:00000003","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 16:56:28 INF] HTTP POST /api/v1/auth/login responded 415 in 2.8959 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5166V9AUM:00000004","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 16:56:31 INF] HTTP POST /api/v1/auth/login responded 415 in 3.5544 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5166V9AUM:00000005","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 16:57:11 INF] HTTP POST /api/v1/auth/login responded 415 in 0.7304 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5166V9AUM:00000006","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 16:59:19 INF] HTTP POST /api/v1/auth/login responded 415 in 0.9205 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5166V9AUM:00000007","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 16:59:49 INF] HTTP POST /api/v1/auth/login responded 415 in 1.1157 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5166V9AUM:00000008","ConnectionId":"0HNJ5166V9AUM"}
[2026-02-05 17:00:23 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-05 17:00:23 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-05 17:00:24 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-05 17:00:24 INF] API de AuthService está ejecutándose en http://localhost:5210. Endpoint de salud: http://localhost:5210/health {"SourceContext":"Program"}
[2026-02-05 17:00:28 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ519DI96VN:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNJ519DI96VN"}
[2026-02-05 17:00:28 INF] HTTP POST /api/v1/auth/login responded 415 in 62.6589 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ519DI96VN:00000001","ConnectionId":"0HNJ519DI96VN"}
[2026-02-05 17:02:50 INF] User login succeeded {"EventId":{"Id":1002,"Name":"LogUserLoggedIn"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"14aec226-2886-4703-a1f2-d88d58fa62ae","ActionName":"AuthService.Api.Controllers.AuthController.Login (AuthService.Api)","RequestId":"0HNJ519DI96VP:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNJ519DI96VP"}
[2026-02-05 17:02:50 INF] HTTP POST /api/v1/auth/login responded 200 in 304.6385 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ519DI96VP:00000001","ConnectionId":"0HNJ519DI96VP"}
